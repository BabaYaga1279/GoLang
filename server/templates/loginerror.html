<!DOCTYPE html>
<html>
<head>
    <title>Website - Login</title>
    <meta charset="UTF-8">
<!--=====================================================================-->
<style>

</style>
</head>
<body onload="Initialize()">
<!--=====================================================================-->
    <h1>Login form</h1>
    <form onsubmit="return checkUsername(event)" action="/login" method="post">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username" value=""><br><br>
        <label for="password">Password:</label><br>
        <input type="text" id="password" name="password" value=""><br><br>
        <input id="button" type="submit" value="login">
        <br>
    </form> 

    <p  id="warning" 
        style="font-style: italic;font-size: 15px;color:Tomato; visibility: hidden">
        Username or Password cannot be blank.
    </p>
    <p  style="font-style: italic;font-size: 15px;color:Tomato;">
        {{.}}
    </p>
    <a href="/register">Don't have account yet? Register</a>
<!--=====================================================================-->
<script>
    
    const pageAccessedByReload = (
        (PerformanceNavigationTiming && PerformanceNavigationTiming.TYPE === 1) ||
          window.performance
            .getEntriesByType('navigation')
            .map((nav) => nav.type)
            .includes('reload')
      );

      if (pageAccessedByReload) {
        alert("DUMA");
        window.location.href = "/register";
      }

    function Initialize() {
    }
    function checkUsername(e) {
        var un = document.getElementById('username').value
        var wn = document.getElementById("warning");

        if (un == "") {
            wn.style.visibility = "visible";
            //e.preventDefault();
            return false;
        } 

        wn.style.visibility = "hidden";
        //location.replace("./chatroom.html")
        //window.open('./chatroom.html');
        return true;
    }
</script>
</body>
</html>